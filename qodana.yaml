####################################################################################################################
# WARNING: Do not store sensitive information in this file, as its contents will be included in the Qodana report. #
####################################################################################################################
version: "1.0"

# Use latest linter
linter: jetbrains/qodana-python:2025.2

# Use strictest profile
profile:
  name: qodana.sanity

# ZERO tolerance - fail on ANY issue
failThreshold: 0

# Include ALL possible inspections
include:
  # Dependency & License checks
  - name: CheckDependencyLicenses
  
  # Python - Errors & Warnings
  - name: PyUnresolvedReferencesInspection
  - name: PyTypeCheckerInspection
  - name: PyArgumentListInspection
  - name: PyCallingNonCallableInspection
  - name: PyUnboundLocalVariableInspection
  - name: PyStatementEffectInspection
  - name: PyTupleAssignmentBalanceInspection
  - name: PyMethodParametersInspection
  - name: PyAbstractClassInspection
  - name: PyNoneFunctionAssignmentInspection
  - name: PyRedeclarationInspection
  - name: PyPropertyAccessInspection
  - name: PyMethodFirstArgAssignmentInspection
  - name: PyInitNewSignatureInspection
  - name: PyProtectedMemberInspection
  - name: PyAttributeOutsideInitInspection
  - name: PySuperArgumentsInspection
  - name: PyDictDuplicateKeysInspection
  - name: PySetFunctionToLiteralInspection
  
  # Python - Code Quality
  - name: PyPep8Inspection
  - name: PyPep8NamingInspection
  - name: PyShadowingBuiltinsInspection
  - name: PyShadowingNamesInspection
  - name: PyComparisonWithNoneInspection
  - name: PySimplifyBooleanCheckInspection
  - name: PyClassHasNoInitInspection
  - name: PyMethodMayBeStaticInspection
  - name: PyUnusedLocalInspection
  - name: PyBroadExceptionInspection
  - name: PyExceptClausesOrderInspection
  - name: PyUnreachableCodeInspection
  - name: PyDefaultArgumentInspection
  - name: PyRedundantParenthesesInspection
  - name: PyDictCreationInspection
  - name: PyListCreationInspection
  - name: PyChainedComparisonsInspection
  - name: PyNestedDecoratorsInspection
  - name: PyIncorrectDocstringInspection
  - name: PyMissingOrEmptyDocstringInspection
  - name: PyDocstringTypesInspection
  - name: PyMissingTypeHintsInspection
  - name: PyTypeHintsInspection
  - name: PyArgumentEqualDefaultInspection
  - name: PyGlobalUndefinedInspection
  - name: PyPackageRequirementsInspection
  
  # Python - Unused code
  - name: PyUnusedLocalInspection
  - name: PyUnusedFunctionInspection
  
  # Python - Security & Best Practices
  - name: PyInterpreterInspection
  - name: PyCompatibilityInspection
  - name: PyStringFormatInspection
  - name: PyStringExceptionInspection
  - name: PySingleQuotedDocstringInspection
  - name: PyMissingConstructorInspection
  - name: PyDataclassInspection
  - name: PyAsyncCallInspection
  - name: PyDecoratorInspection
  
  # Docker inspections
  - name: DockerFileRunCommandInspection
  - name: DockerFileFromAliasInspection
  - name: DockerFileAddInspection
  - name: DockerFileCopyMultipleFilesToFileInspection
  - name: DockerFileExposePortInspection
  - name: DockerFileYumInstallCleanupInspection
  - name: DockerFileAptGetInstallCleanupInspection
  - name: DockerFileNotSortedInspection
  - name: DockerFileArgumentCountInspection
  
  # General code quality
  - name: SpellCheckingInspection
  - name: TodoComment
  - name: GrazieInspection
  - name: LanguageDetectionInspection
  - name: ProblematicWhitespace
  - name: LongLine
  - name: InconsistentLineSeparators
  
  # YAML/JSON
  - name: YAMLSchemaValidation
  - name: YAMLUnresolvedAlias
  - name: JsonSchemaCompliance
  
  # Markdown
  - name: MarkdownUnresolvedFileReference
  - name: MarkdownUnresolvedHeaderReference
  
  # Security-focused
  - name: Annotator
  - name: BashSupport

# Exclude only absolute necessities
exclude:
  - name: All
    paths:
      - .git
      - venv
      - .venv
      - __pycache__
      - "*.pyc"
      - .pytest_cache
      - qodana

# Bootstrap - install dependencies
bootstrap: |
  if [ -f requirements.txt ]; then
    pip install --no-cache-dir -r requirements.txt
  fi

# Disable problematic checks that might cause false positives
# (Remove this section if you want ABSOLUTE maximum strictness)
# disabledInspections:
#   - SpellCheckingInspection  # Can be too noisy for code
